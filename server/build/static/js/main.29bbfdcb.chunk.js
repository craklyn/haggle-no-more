(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a.p+"static/media/Map_icon.33ec1984.svg"},106:function(e,t,a){e.exports=a.p+"static/media/DiscoverLogo.e0d6af8a.svg"},109:function(e,t,a){e.exports=a.p+"static/media/Send_Button.afb73dc5.svg"},110:function(e,t,a){e.exports=a.p+"static/media/Check_Button.521df833.svg"},111:function(e,t,a){e.exports=a.p+"static/media/X_Button.a0ab9872.svg"},125:function(e,t,a){e.exports=a(252)},130:function(e,t,a){},246:function(e,t,a){},25:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(59),s=a.n(r),l=(a(130),a(2)),o=a(3),i=a(8),u=a(6),m=a(7),h=a(256),d=a(258),p=a(260),f=(a(25),a(257)),E=a(10),v=a(60),_=a.n(v),b=a(61),g=a.n(b),k=a(62),y=a.n(k),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f.a,{columns:"three",className:"g_footer"},c.a.createElement(f.a.Row,null,c.a.createElement(f.a.Column,{className:"g_icon_column"},c.a.createElement(E.a,{src:g.a})),c.a.createElement(f.a.Column,{className:"g_icon_column"},c.a.createElement(E.a,{src:_.a})),c.a.createElement(f.a.Column,{className:"g_icon_column"},c.a.createElement(E.a,{src:y.a})))))}}]),t}(n.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(N,null))}}]),t}(n.Component),C=a(254),j=a(70),w=a(39),x=a.n(w),S=a(171).config(),P=function(){function e(){Object(l.a)(this,e),this.domian=window.location.href.indexOf("localhost")>-1?"http://localhost:4200/":"https://anglehackt.appspot.com/",this.ENDPOINT={EXCHANGE_RATE:"exchangerate",CITY_GUIDE:"cityguide"},this.HEADER_PLAN={EXCHANGE_RATE:"DCI_CURRENCYCONVERSION_SANDBOX",CITY_GUIDE:"CITYGUIDES"}}return Object(o.a)(e,[{key:"getBearToken",value:function(){var e=S.DISCOVER_APP_API_KEY,t=S.DISCOVER_APP_API_SECRET,a={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("".concat(e,":").concat(t))};return this.postData(this.tokenURL+"grant_type=client_credentials&scope="+this.scope,a)}},{key:"getExchangeRate",value:function(e){var t=this.domian+this.ENDPOINT.EXCHANGE_RATE+"?currencycd="+e,a={"X-DFS-API-PLAN":this.HEADER_PLAN.EXCHANGE_RATE,Authorization:"Bearer "+this.authToken};return console.log("headers",a),this.getData(t,a)}},{key:"getCityGuide",value:function(e){var t=this.domian+this.ENDPOINT.CITY_GUIDE+"?merchant_city="+e,a={"X-DFS-API-PLAN":this.HEADER_PLAN.CITY_GUIDE,Authorization:"Bearer "+this.authToken};return console.log("headers",a),this.getData(t,a)}},{key:"postData",value:function(e,t,a){var n={method:"POST",headers:Object(j.a)({"Content-Type":"application/json; charset=utf-8"},a),body:JSON.stringify(t)};return console.log("allHeader",n),fetch(e,n).then(function(e){return e.json()})}},{key:"getData",value:function(e,t){var a={method:"GET",headers:Object(j.a)({"Content-Type":"application/json; charset=utf-8"},t)};return x.a.ajax({url:e,type:"GET",headers:a,success:function(e){return e},error:function(e){}})}}]),e}(),A=a(104),D=a.n(A),I=(a(174),a(79),a(105)),T=a.n(I),V=a(106),q=a.n(V),R=a(259),L=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.idIter,a=e.m,n=e.locStyle;return c.a.createElement("div",{key:t,style:n,className:"locItem"},c.a.createElement("div",{className:"merchants_row_item"},c.a.createElement("div",null,c.a.createElement("h3",{className:"text_title"},a.name,c.a.createElement("a",{className:"text_title_link",href:a.website},c.a.createElement(R.a,{name:"linkify"})))),c.a.createElement("div",null,c.a.createElement(E.a,{src:q.a}))),c.a.createElement("div",{className:"merchants_row_item"},c.a.createElement("div",null,c.a.createElement("p",{className:"text_address"},a.address1),c.a.createElement("p",{className:"text_address"},a.phone)),c.a.createElement("div",null)))}}]),t}(n.Component),G="AIzaSyCZppRF9ySpc8AEdX8qS-1xJF0NdSWbND8",H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={currLocs:[],allLocs:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getGooglePlaceInformation",value:function(e,t){console.log(e,t);var a="https://maps.googleapis.com/maps/api/place/textsearch/json?query=".concat(e.join("+"),"&location=").concat(t[0],",").concat(t[1],"&radius=10000&key=")+G;(new P).getData(a,{}).then(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){var e=this;(new P).getCityGuide("bangkok").then(function(t){return t=JSON.parse(t),e.setState({allLocs:t}),t.result.filter(function(e){return"retail"===e.mcc})}).then(function(t){return e.setState({currLocs:t})}).then(function(t){e.state.currLocs.map(function(t,a){return a>10?t:(console.log(t),e.getGooglePlaceInformation(t.address1,t.point),t)})})}},{key:"render",value:function(){var e=this,t=0,a={borderColor:"white"},n=[{value:"retail",label:"Retail"},{value:"restaurants",label:"Restaurants"},{value:"hotels",label:"Hotels"}];return c.a.createElement("div",{className:"listPlaces"},c.a.createElement("div",{className:"top",style:{backgroundColor:"#EC6434",width:"100%",height:50,textAlign:"center",color:"white",fontSize:30}},c.a.createElement("p",{className:"topText"},"Bankok Markets")),c.a.createElement("div",{className:"second_handler"},c.a.createElement("div",{className:"filter",style:{fontSize:25}},c.a.createElement(D.a,{options:n,value:n[0],onChange:function(t){console.log(e.state.allLocs.result);var a=e.state.allLocs.result.filter(function(e){return e.mcc===t.value});e.setState({currLocs:a})},placeholder:"Filter by Merchants"})),c.a.createElement(E.a,{src:T.a,onClick:function(){return e.props.history.push("/map")}})),c.a.createElement(function(){var n=e.state.currLocs.map(function(e){return t++,c.a.createElement(L,{idIter:t,m:e,locStyle:a})});return c.a.createElement("ul",{className:"metchant_parents"},n)},{style:{padding:"20px",marginBottom:10,border:"solid",borderColor:"#0b3c5d",borderWidth:1,position:"relative",display:"block",listStyleType:"none"}}),c.a.createElement(C.a,null))}}]),t}(n.Component),B=a(19),M=a(255),X=a(109),F=a.n(X),Y=a(110),z=a.n(Y),J=a(111),U=a.n(J),Q=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={propsedValues:0,convertValues:0,exchange_rate:0,currencycd:"THB",showOffer:!1},e.allButtons=e.getNumbers(),e.offerMake=e.offerMake.bind(Object(B.a)(Object(B.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=new P,t=this;e.getExchangeRate(this.state.currencycd).done(function(e){console.log("data.exchange_rate",JSON.parse(e).exchange_rate),t.setState({exchange_rate:JSON.parse(e).exchange_rate})})}},{key:"handleNumber",value:function(e){var t=10*this.state.propsedValues+e;console.log("this.state.exchange_rate",this.state.exchange_rate),console.log(t*this.state.exchange_rate),this.setState({propsedValues:t,convertValues:t*this.state.exchange_rate})}},{key:"onHandleAction",value:function(e){if("back"===e){var t=parseInt(this.state.propsedValues/10);this.setState({propsedValues:t,convertValues:t*this.state.exchange_rate})}else"offer"===e&&this.setState({showOffer:!0})}},{key:"getNumbers",value:function(){for(var e=[],t=1;t<10;t++)e.push(t);return e}},{key:"OnPressChangeVal",value:function(e){console.log(e),this.handleNumber(e)}},{key:"offerMake",value:function(){this.props.history.push("/feedback")}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,this.state.showOffer&&c.a.createElement("div",{className:"offer_panel"},c.a.createElement("div",{className:"offer_inner"},c.a.createElement("p",{className:"client_view_price",style:{margin:0}},"\u0e3f ",this.state.convertValues.toFixed(2).toLocaleString()),c.a.createElement("div",{className:"group_button"},c.a.createElement("div",{onClick:this.offerMake},c.a.createElement(E.a,{src:z.a,svgStyle:{width:50}})),c.a.createElement("div",null,c.a.createElement(E.a,{src:U.a,svgStyle:{width:50}}))))),c.a.createElement("div",{className:this.state.showOffer?"cal_main cal_main_openOffer":"cal_main"},c.a.createElement("div",{className:"cal_main_wrap"},c.a.createElement("div",{className:"cal_display"},c.a.createElement("div",null,c.a.createElement(M.a,{name:"th",svgStyle:{width:25}})),c.a.createElement("p",null,"\u0e3f ",this.state.convertValues.toFixed(2).toLocaleString())),c.a.createElement("div",{className:"cal_display"},c.a.createElement("div",null,c.a.createElement(M.a,{name:"us",svgStyle:{width:25}})),c.a.createElement("p",null,"$",this.state.propsedValues.toFixed(2).toLocaleString()))),c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement("div",{className:""},c.a.createElement("div",{className:"cal_row"},c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(1)}},"1"),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(2)}},"2"),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(3)}},"3")),c.a.createElement("div",{className:"cal_row"},c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(4)}},"4"),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(5)}},"5"),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(6)}},"6")),c.a.createElement("div",{className:"cal_row"},c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(7)}},"7"),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(8)}},"8"),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(9)}},"9")),c.a.createElement("div",{className:"cal_row"},c.a.createElement("p",{className:"letter_square",onClick:function(){return e.onHandleAction(",")}},","),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.OnPressChangeVal(0)}},"0"),c.a.createElement("p",{className:"letter_square",onClick:function(){return e.onHandleAction(".")}},"."))),c.a.createElement("div",{className:"cal_col_test"},c.a.createElement("p",{className:"letter_square",onClick:function(){return e.onHandleAction("back")}},"<"),c.a.createElement("p",{className:"letter_square letter_icon",onClick:function(){return e.onHandleAction("offer")}},c.a.createElement(E.a,{src:F.a,svgStyle:{width:20}}))))),c.a.createElement(N,null))}}]),t}(n.Component),W=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("iframe",{src:"https://s3.amazonaws.com/discoverhack/maps/index.html",style:{height:"100%",width:"100%",border:0,margin:0,position:"fixed",overflowY:"hidden"}}))}}]),t}(n.Component),$=(a(246),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={questions:[{q:"Did you make a purchase at Market 2?",optionsType:"binary"},{q:"How much discount did you receive?",optionsType:"multi",options:["0-30%","30-60%","60-90%"]}],currentQuestions:0},e.onPressSubmit=e.onPressSubmit.bind(Object(B.a)(Object(B.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onPressSubmit",value:function(){var e=this.state.currentQuestions+1;e<this.state.questions.length?this.setState({currentQuestions:e}):this.props.history.push("/place")}},{key:"render",value:function(){var e=this,t=this.state.questions[this.state.currentQuestions];return c.a.createElement("div",null,c.a.createElement("div",{className:"top_header"},"Bankok Markets"),c.a.createElement("div",null,c.a.createElement("div",{className:"main_feedback_body"},c.a.createElement("div",{className:"main_feedback_q"},c.a.createElement("p",null,t.q),"binary"===t.optionsType?c.a.createElement("div",{className:"all_feedback_selection"},c.a.createElement("div",{className:"feedback_selection",onClick:this.onPressSubmit},"yes"),c.a.createElement("div",{className:"feedback_selection",onClick:this.onPressSubmit},"no")):c.a.createElement("div",{className:"all_feedback_selection all_feedback_selection_col"},t.options&&t.options.map(function(t){return c.a.createElement("div",{className:"feedback_selection",onClick:e.onPressSubmit},t)}))))))}}]),t}(n.Component)),K=(a(248),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement(d.a,null,c.a.createElement(p.a,{exact:!0,path:"/",component:function(){return c.a.createElement(O,null)}}),c.a.createElement(p.a,{exact:!0,path:"/feedback",component:function(e){return c.a.createElement($,e)}}),c.a.createElement(p.a,{exact:!0,path:"/place",component:function(e){return c.a.createElement(H,e)}}),c.a.createElement(p.a,{exact:!0,path:"/haggle",component:function(e){return c.a.createElement(Q,e)}}),c.a.createElement(p.a,{exact:!0,path:"/map",component:function(e){return c.a.createElement(W,e)}}),c.a.createElement(p.a,{component:O})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,t,a){e.exports=a.p+"static/media/Price.075d9c80.svg"},61:function(e,t,a){e.exports=a.p+"static/media/Markets.ea609758.svg"},62:function(e,t,a){e.exports=a.p+"static/media/Guide.4cd99bc3.svg"},79:function(e,t,a){}},[[125,2,1]]]);
//# sourceMappingURL=main.29bbfdcb.chunk.js.map